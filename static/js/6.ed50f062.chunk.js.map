{"version":3,"sources":["Components/common/FormsControls/formsControls.module.css","utils/validators/validators.js","Components/common/FormsControls/FormsControls.js","Components/Login/Login.jsx"],"names":["module","exports","required","value","maxLengthCreator","maxLength","length","FormControl","input","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","restProps","child","Input","createField","placeholder","name","validators","component","tekst","validate","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","type","style","formSummaryError","connect","state","isAuth","auth","login","logout","to","formData","email","password","rememberMe"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,YAAc,mCAAmC,MAAQ,6BAA6B,iBAAmB,0C,iCCD3H,oEAAO,IAAMC,EAAW,SAAAC,GACpB,IAAIA,EAEJ,MAAO,qBAGEC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAC5C,GAAIA,EAAMG,OAASD,EAAW,MAAM,iBAAN,OAAwBA,EAAxB,e,4LCHrBE,G,KAAc,SAAC,GAA4C,EAA3CC,MAA4C,IAAD,IAApCC,KAAMC,EAA8B,EAA9BA,QAAQC,EAAsB,EAAtBA,MAAQC,EAAc,EAAdA,SAChDC,EAAWH,GAAWC,EAC5B,OACI,sBAAKG,UAAWC,IAAOC,YAAc,KAAOH,EAAWE,IAAOJ,MAAQ,IAAtE,UACI,8BACKC,IAEJC,GAAY,+BAAOF,SAInBM,EAAW,SAACC,GAAW,IACzBV,EAAkCU,EAAlCV,MAAqBW,GAAaD,EAA5BT,KAA4BS,EAAvBE,MADa,YACUF,EADV,2BAE/B,OAAM,eAACX,EAAD,2BAAiBW,GAAjB,kBAAyB,oDAAcV,GAAUW,SAE9CE,EAAQ,SAACH,GAAW,IACtBV,EAAkCU,EAAlCV,MAAqBW,GAAaD,EAA5BT,KAA4BS,EAAvBE,MADU,YACaF,EADb,2BAE5B,OAAM,eAACX,EAAD,2BAAiBW,GAAjB,kBAAyB,iDAAWV,GAAUW,SAG3CG,EAAc,SAACC,EAAYC,EAAKC,EAAWC,GAA7B,IAAwCR,EAAxC,uDAA8C,GAAIS,EAAlD,uDAAwD,GAAxD,OACvB,gCACA,cAAC,IAAD,aAAOJ,YAAaA,EAAaC,KAAMA,EAChCI,SAAUH,EACVC,UAAWA,GACPR,IAJX,IAKIS,O,8HCRFE,EAAiBC,YAAU,CAACC,KAAM,SAAjBD,EAbL,SAAC,GAA2B,IAA1BE,EAAyB,EAAzBA,aAAcrB,EAAW,EAAXA,MAC9B,OACI,uBAAMsB,SAAUD,EAAhB,UACKV,YAAY,QAAS,QAAS,CAACpB,KAAWmB,KAC1CC,YAAY,WAAY,WAAY,CAACpB,KAAWmB,IAAO,CAACa,KAAM,aAC9DZ,YAAY,KAAM,aAAc,KAAMD,IAAO,CAACa,KAAM,YAAY,eAEhEvB,GAAS,qBAAKG,UAAWqB,IAAMC,iBAAtB,SAAyCzB,IACnD,oCAAM,2CAAN,aAyBG0B,uBAJS,SAACC,GAAD,MAAY,CAChCC,OAAQD,EAAME,KAAKD,UAGiB,CAACE,UAAOC,YAAjCL,EAlBD,SAAC,GAAqB,IAApBI,EAAmB,EAAnBA,MAIZ,OAJ+B,EAAZF,OAKR,cAAC,IAAD,CAAUI,GAAI,aAEjB,qCACA,uCACA,cAACd,EAAD,CAAgBI,SARP,SAACW,GACdH,EAAMG,EAASC,MAAOD,EAASE,SAAUF,EAASG","file":"static/js/6.ed50f062.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formsControls_formControl__2cqoL\",\"error\":\"formsControls_error__3dxly\",\"formSummaryError\":\"formsControls_formSummaryError__3SfGx\"};","export const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","import styles from  './formsControls.module.css'\r\nimport {Field} from \"redux-form\";\r\nimport React from \"react\";\r\n\r\nexport const FormControl = ({input, meta:{touched,error}, children}) => {\r\n    const hasError = touched && error;\r\n    return(\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span> }\r\n        </div>\r\n    )\r\n}\r\nexport const Textarea = (props) => {\r\n    const {input,meta,child, ...restProps} = props\r\n    return<FormControl {...props}> <textarea {...input}{...restProps}/></FormControl>\r\n}\r\nexport const Input = (props) => {\r\n    const {input,meta,child, ...restProps} = props\r\n    return<FormControl {...props}> <input {...input}{...restProps}/></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder,name,validators,component, props={}, tekst='') => (\r\n    <div>\r\n    <Field placeholder={placeholder} name={name}\r\n           validate={validators}\r\n           component={component}\r\n           {...props}\r\n    /> {tekst}\r\n    </div>\r\n)\r\n\r\n\r\n\r\n\r\n\r\n\r\n// export const Textarea = ({input, meta, ...props}) => {\r\n//     const hasError = meta.touched && meta.error;\r\n//     return(\r\n//         <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n//             <div>\r\n//                 <textarea {...input} {...props} />\r\n//             </div>\r\n//             {hasError && <span>{meta.error}</span> }\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n// export const Input = ({input, meta, ...props}) => {\r\n//     const hasError = meta.touched && meta.error;\r\n//     return(\r\n//         <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n//             <div>\r\n//                 <input {...input} {...props} />\r\n//             </div>\r\n//             {hasError && <span>{meta.error}</span> }\r\n//         </div>\r\n//     )\r\n// }","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login, logout} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from '../common/FormsControls/formsControls.module.css'\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField(\"Login\", 'email', [required], Input)}\r\n            {createField(\"Password\", 'password', [required], Input, {type: 'password'})}\r\n            {createField(null, 'rememberMe', null, Input, {type: 'checkbox'},'remember me')}\r\n\r\n            {error && <div className={style.formSummaryError}>{error}</div>}\r\n            <div> <button>Login</button> </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst Login = ({login, isAuth}) => {\r\n    const onSubmit = (formData) => {\r\n        login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (<>\r\n            <h1>LOGIN</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login, logout})(Login);"],"sourceRoot":""}
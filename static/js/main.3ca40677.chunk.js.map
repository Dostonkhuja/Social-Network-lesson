{"version":3,"sources":["Components/common/preloader/Preloader.jsx","redux/profile-reducer.js","redux/dialogs-reducer.js","assets/images/New_user.png","api/api.js","reportWebVitals.js","redux/nav-reducer.js","utils/object helpers/object-helpers.js","redux/users-reducer.js","redux/app-reducer.js","redux/redux-store.js","Components/Nav/Nav.jsx","Components/Users/User.jsx","Components/Users/Users.jsx","redux/users-selectors.js","Components/Users/UsersConteiner.jsx","Components/Header/Header.jsx","Components/Header/HeaderContainer.jsx","Components/HOC/withSuspense.js","App.js","index.js","Components/Users/users.module.css","Components/Nav/nav.module.css","redux/auth-reducer.js","Components/Header/header.module.css"],"names":["Preloader","props","tip","ADD_POST","SET_USERS_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","initialState","posts","id","post","likesCount","profile","status","addPostActionCreator","newPostText","type","setStatus","getUserProfile","userId","dispatch","a","profileAPI","getProfile","response","getUserStatus","getStatus","updateStatus","data","resultCode","savePhoto","file","photos","saveProfile","getState","auth","stopSubmit","_error","messages","Promise","reject","profileReducer","state","action","newPost","SEND_MESSAGE","initialStore","dialogs","name","message","sendMessageCreator","newMessage","dialogsReducer","body","newMessageBody","instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","followPost","unfollowDelete","delete","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","put","photoFile","formData","FormData","append","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","myFriends","img","navReducer","updateObjectArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","SET_IS_FETCHING","TOGGLE_IS_FETCHING","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setIsFetching","toggleFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","totalCountAll","filter","INITIALIZED_SUCCSESS","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","navPage","usersPage","authReducer","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Sider","Layout","Nav","Menu","SubMenu","collapsed","onCollapse","setState","collapsible","this","className","src","theme","defaultSelectedKeys","mode","Item","icon","ProfileOutlined","to","activeClassName","s","activeLink","MailOutlined","UserSwitchOutlined","DesktopOutlined","SoundOutlined","SettingOutlined","React","Component","User","user","unfollow","follow","userBlock","small","userPhoto","disabled","some","onClick","Users","onPageChanged","style","pagination","showQuickJumper","defaultCurrent","total","onChange","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersСontainer","pageNumber","userContainer","preLoaderUsers","connect","bind","page","totalCount","Header","header","loginBlock","userIcon","UserOutlined","isAuth","loginName","HeaderContainer","withSuspense","Suspense","fallback","Content","Footer","ProfileContainer","lazy","DialogsContainer","Login","App","initializeApp","minHeight","padding","margin","path","render","UsersConteiner","textAlign","withRouter","promise","getAuthUserData","all","ReactDOM","document","getElementById","module","exports","SET_AUTH_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","length","url"],"mappings":"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","file":"static/js/main.3ca40677.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Spin, Alert } from 'antd';\r\n\r\nconst Preloader = (props) => {\r\n    return <Spin tip=\"Loading...\">\r\n    </Spin>\r\n};\r\n\r\nexport default Preloader;","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USERS_PROFILE = 'SET_USERS_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, post: 'hou are you?', likesCount: 12},\r\n        {id: 2, post: 'nice to me to you!', likesCount: 1},\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {id: 3, post: action.newPostText, likesCount: 0}\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        case SET_USERS_PROFILE:\r\n            return {...state, profile: action.profile}\r\n        case SET_STATUS:\r\n            return {\r\n                ...state, status: action.status\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state, profile:{ ...state.profile,photos:action.photos }\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText) => {\r\n    return {type: ADD_POST, newPostText}\r\n}\r\nexport const setUsersProfile = (profile) => ({type: SET_USERS_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(userId)\r\n    dispatch(setUsersProfile(response))\r\n}\r\n\r\nexport const getUserStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatus(response))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    let response = await profileAPI.saveProfile(profile)\r\n    debugger\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId))\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\" ,{_error: response.data.messages[0]}));\r\n            return Promise.reject(response.data.messages[0]);\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n\r\n\r\n","const UPDATE_NEW_MESSAGE_BODY = 'UPDATE_NEW_MESSAGE_BODY';\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialStore = {\r\n    dialogs: [\r\n        {name: \"Doston\", id: 1},\r\n        {name: \"Alisher\", id: 2},\r\n        {name: \"Sveta\", id: 3},\r\n        {name: \"Bahtiyor\", id: 4},\r\n        {name: \"Davron\", id: 5}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'How are you'},\r\n        {id: 3, message: 'Yo'},\r\n        {id: 4, message: 'Yo'},\r\n        {id: 5, message: 'Yo'}\r\n    ],\r\n}\r\n\r\nconst dialogsReducer = (state = initialStore, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body=action.newMessage\r\n            return {\r\n                ...state,\r\n                newMessageBody: '',\r\n                messages: [...state.messages, {id: 6, message: body}]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport let sendMessageCreator = (newMessage) => {\r\n    return {type: SEND_MESSAGE,newMessage}\r\n}\r\n\r\nexport default dialogsReducer;","export default __webpack_public_path__ + \"static/media/New_user.674bd0da.png\";","import axios from \"axios\";\r\n\r\nlet instance= axios.create({\r\n    withCredentials:true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY':'f146f097-1f6e-4453-911e-f2ac862008f2'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response=> {return response.data})\r\n    },\r\n    followPost(id) {\r\n        return instance.post(`follow/${id}`)\r\n            .then(response=>{return response.data})\r\n    },\r\n    unfollowDelete(id) {\r\n        return instance.delete(`follow/${id}`)\r\n            .then(response=>{return response.data})\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return  instance.get(`auth/me`).then(response=>{return response.data})\r\n    },\r\n    login(email,password,rememberMe=false,captcha=null) {\r\n        return  instance.post(`auth/login`,{email,password,rememberMe,captcha}).then(response=>{return response.data})\r\n    },\r\n    logout() {\r\n        return  instance.delete(`auth/login`).then(response =>{return response.data})\r\n    },\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl(){\r\n        return  instance.get(`security/get-captcha-url`)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId){\r\n        return  instance.get(`profile/${userId}`).then(response=>{return response.data})\r\n    },\r\n    getStatus(userId){\r\n        return instance.get(`profile/status/${userId}`).then(response=>{return response.data})\r\n    },\r\n    updateStatus(status){\r\n        return instance.put(`profile/status`,{status})\r\n    },\r\n    savePhoto(photoFile){\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n\r\n        return instance.put(`profile/photo`,formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`,profile)\r\n    }\r\n}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","\r\nlet initialState =  {\r\n    myFriends: [\r\n        {\r\n            id:1,\r\n            name: \"Andrew\",\r\n            img: \"https://tse4.mm.bing.net/th?id=OIP.JYpx8CxzpDll_iTTzaZIPgAAAA&pid=Api&P=0&w=300&h=300\"\r\n        },\r\n        {\r\n            id:2,\r\n            name: \"Aziza\",\r\n            img: \"https://tse4.mm.bing.net/th?id=OIP.JYpx8CxzpDll_iTTzaZIPgAAAA&pid=Api&P=0&w=300&h=300\"\r\n        },\r\n        {\r\n            id:3,\r\n            name: \"Rajab\",\r\n            img: \"https://tse4.mm.bing.net/th?id=OIP.JYpx8CxzpDll_iTTzaZIPgAAAA&pid=Api&P=0&w=300&h=300\"\r\n        }\r\n    ]\r\n}\r\n\r\nconst navReducer = (state = initialState,action)=>{\r\n    return state\r\n}\r\n\r\nexport default navReducer;","\r\nexport const updateObjectArray = (items,itemId,objPropName,newObjProps)=> {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}\r\n","import React from 'react'\r\nimport {usersAPI} from \"../api/api\";\r\nimport {updateObjectArray} from \"../utils/object helpers/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\r\nconst SET_IS_FETCHING = \"SET_IS_FETCHING\"\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\"\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                 users: updateObjectArray(state.users,action.userId,\"id\",{followed: true})\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users:updateObjectArray(state.users,action.userId,\"id\",{followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {...state, totalUsersCount: action.totalCountAll}\r\n        case SET_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [...state.followingInProgress.filter(id => id != action.userId)]\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => {\r\n    return {type: FOLLOW, userId}\r\n}\r\nexport const unfollowSuccess = (userId) => {\r\n    return {type: UNFOLLOW, userId}\r\n}\r\nexport const setUsers = (users) => {\r\n    return {type: SET_USERS, users}\r\n}\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {type: SET_CURRENT_PAGE, currentPage}\r\n}\r\nexport const setTotalUsersCount = (totalCount) => {\r\n    return {type: SET_TOTAL_USERS_COUNT, totalCountAll: totalCount}\r\n}\r\nexport const setIsFetching = (isFetching) => {\r\n    return {type: SET_IS_FETCHING, isFetching}\r\n}\r\nexport const toggleFollowingProgress = (isFetching, userId) => {\r\n    return {type: TOGGLE_IS_FETCHING, isFetching, userId}\r\n}\r\n\r\n//Thunks\r\nexport const requestUsers = (page, pageSize) => async dispatch => {\r\n    dispatch(setCurrentPage(page))\r\n    dispatch(setIsFetching(true));\r\n    let response = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(setIsFetching(false))\r\n    dispatch(setUsers(response.items))\r\n    // response.totalCount = 100;     // HOZIRCHA TURIBTI, KEYIN O'CHIRIB TASHLANSIN\r\n    dispatch(setTotalUsersCount(response.totalCount))\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId,apiMethod,actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => async dispatch => {\r\n    followUnfollowFlow(dispatch,userId,usersAPI.followPost.bind(userId),followSuccess)\r\n}\r\n\r\nexport const unfollow = (userId) => async dispatch => {\r\n    followUnfollowFlow(dispatch,userId,usersAPI.unfollowDelete.bind(userId),unfollowSuccess)\r\n}\r\n\r\nexport default usersReducer;\r\n\r\n\r\n\r\n\r\n","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCSESS = 'INITIALIZED_SUCCSESS'\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCSESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccsess = () => ({type: INITIALIZED_SUCCSESS})\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccsess())\r\n        })\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport navReducer from \"./nav-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage : profileReducer,\r\n    dialogsPage : dialogsReducer,\r\n    navPage: navReducer,\r\n    usersPage:usersReducer,\r\n    auth:authReducer,\r\n    form: formReducer,\r\n    app:appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n//\r\n// let store = createStore(reducers,applyMiddleware(thunkMiddleware));\r\n\r\nwindow.store=store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport s from './nav.module.css'\r\nimport {HashRouter, NavLink, Route} from \"react-router-dom\";\r\nimport {Layout, Menu} from \"antd\";\r\nimport {\r\n    DesktopOutlined,\r\n    MailOutlined,\r\n    ProfileOutlined,\r\n    SettingOutlined,\r\n    SoundOutlined,\r\n    UserSwitchOutlined\r\n} from \"@ant-design/icons\";\r\n\r\nconst { Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\nclass Nav extends React.Component {\r\n    state = {\r\n        collapsed: false,\r\n    };\r\n    onCollapse = collapsed => {\r\n        this.setState({ collapsed });\r\n    };\r\n    render() {\r\n        return (\r\n            <Sider collapsible collapsed={this.state.collapsed} onCollapse={this.onCollapse}>\r\n                <div className=\"logo\">\r\n                    <img className={\"logo1\"} src=\"http://pluspng.com/img-png/the-beatles-png-the-beatles-by-andreza0406-the-beatles-by-andreza0406-900.png\"/>\r\n                </div>\r\n                <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\r\n                    <Menu.Item key=\"1\" icon={<ProfileOutlined />}>\r\n                        <NavLink to='/profile' activeClassName={s.activeLink}> Profile </NavLink>\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"2\" icon={<MailOutlined />}>\r\n                        <NavLink to='/dialogs' activeClassName={s.activeLink}> Messages </NavLink>\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"3\" icon={<UserSwitchOutlined />}>\r\n                        <NavLink to='/users' activeClassName={s.activeLink}> Developers </NavLink>\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"4\" icon={<DesktopOutlined />}>\r\n                        <NavLink to='/news' activeClassName={s.activeLink}> News </NavLink>\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"5\" icon={<SoundOutlined />}>\r\n                        <NavLink to='/music' activeClassName={s.activeLink}> Music </NavLink>\r\n                    </Menu.Item>\r\n                    <Menu.Item key=\"6\" icon={<SettingOutlined />}>\r\n                        <NavLink to='/music' activeClassName={s.activeLink}> Settings </NavLink>\r\n                    </Menu.Item>\r\n                </Menu>\r\n            </Sider>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Nav;\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport s from './users.module.css'\r\nimport userPhoto from '../../assets/images/New_user.png'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Button} from \"antd\";\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return ( <div className={s.userBlock}>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={`/profile/${user.id}`}>\r\n                            <img src={user.photos.small != null ? user.photos.small : userPhoto} className={s.userPhoto}/>\r\n                            </NavLink>\r\n                        </div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{user.status}</div>\r\n                        {/*<div>{'user.location.country'}</div>*/}\r\n                        {/*<div>{'user.location.city'}</div>*/}\r\n                    </span>\r\n                     <div>\r\n                {user.followed\r\n                    ? <Button disabled={followingInProgress.some(id=> id === user.id)}\r\n                              onClick={() => {unfollow(user.id)}}>Unfollow</Button>\r\n                    : <Button disabled={followingInProgress.some(id=> id === user.id)}\r\n                              onClick={() => {follow(user.id)}}>Follow</Button>}\r\n            </div>\r\n                </div>\r\n    )\r\n}\r\n\r\nexport default User;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport { Pagination } from 'antd';\r\nimport User from \"./User\";\r\nimport style from './users.module.css'\r\n\r\nconst Users = ({ currentPage, totalUsersCount, pageSize, onPageChanged,\r\n                   users, followingInProgress, unfollow, follow, ...props\r\n               }) => {\r\n    return <div>\r\n        <div className={style.pagination}>\r\n            <Pagination showQuickJumper defaultCurrent={currentPage} total={totalUsersCount} onChange={onPageChanged} />\r\n        </div>\r\n\r\n        <div>\r\n            {users.map(u => <User user={u} key={u.id}\r\n                                  followingInProgress={followingInProgress}\r\n                                  unfollow={unfollow}\r\n                                  follow={follow}\r\n            />)}\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nexport default Users;\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {createSelector} from 'reselect'\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users) => {return users.filter(u => true)}\r\n    )\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from 'react'\r\nimport s from './users.module.css'\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {follow, requestUsers, toggleFollowingProgress, unfollow } from \"../../redux/users-reducer\";\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching,\r\n    getPageSize, getTotalUsersCount, getUsers} from \"../../redux/users-selectors\";\r\n\r\nclass UsersСontainer extends React.Component {\r\n    componentDidMount() {\r\n        const {getUsers,currentPage,pageSize} = this.props\r\n        getUsers(currentPage,pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {getUsers,pageSize} = this.props\r\n        getUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <div className={s.userContainer}>\r\n            {this.props.isFetching ?  <div className={s.preLoaderUsers}> <Preloader/> </div> : null}\r\n\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                onPageChanged={this.onPageChanged}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </div>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, toggleFollowingProgress, getUsers: requestUsers}),\r\n    // withAuthRedirect\r\n)(UsersСontainer)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport s from './header.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport {Button} from \"antd\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n                <div className={s.loginBlock}>\r\n                    <div className={s.userIcon}> <UserOutlined /> </div>\r\n                    {props.isAuth\r\n                        ? <div> <span className={s.loginName}>{props.login}</span> <Button type={\"danger\"} onClick={props.logout}>log out</Button></div>\r\n                        :<NavLink to={'/login'}>Login</NavLink>}\r\n                </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\nimport Header from \"./Header\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return (\r\n            <Header {...this.props}/>\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login:state.auth.login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from 'react'\r\nimport Preloader from \"../common/preloader/Preloader\";\r\n\r\nconst withSuspense = (Component) => {\r\n    return (props)=> {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n};\r\n\r\nexport default withSuspense;","import React from \"react\"\r\nimport './App.css';\r\nimport Nav from \"./Components/Nav/Nav\";\r\n\r\nimport {HashRouter, NavLink, Route, withRouter} from \"react-router-dom\";\r\nimport UsersConteiner from \"./Components/Users/UsersConteiner\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport withSuspense from \"./Components/HOC/withSuspense\";\r\n\r\nimport 'antd/dist/antd.css'\r\nimport { Layout, Menu, Breadcrumb } from 'antd';\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\n\r\n//Lazy import\r\nconst ProfileContainer = React.lazy(() => import(\"./Components/Profile/ProfileContainer\"));\r\nconst DialogsContainer = React.lazy(() => import(\"./Components/Dialogs/DialogsContainer\"));\r\nconst Login = React.lazy(() => import(\"./Components/Login/Login\"));\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    state = {\r\n        collapsed: false,\r\n    };\r\n\r\n    onCollapse = collapsed => {\r\n        this.setState({ collapsed });\r\n    };\r\n\r\n    render() {\r\n        //  if (!this.props.initialized) {\r\n        //     return <Preloader/>\r\n        // }\r\n        return (<HashRouter>\r\n\r\n            <Layout style={{ minHeight: '100vh' }}>\r\n               <Nav/>\r\n                <Layout className=\"site-layout\">\r\n                    <HeaderContainer className=\"site-layout-background\" style={{ padding: 0 }} />\r\n                    <Content style={{ margin: '0 16px' }}>\r\n                        <Route path='/dialogs'\r\n                                     render={withSuspense(DialogsContainer)}/>\r\n                        <Route path='/profile/:userId?'\r\n                                     render={ withSuspense(ProfileContainer) } />\r\n                                <Route path='/users'\r\n                                     render={() => <UsersConteiner/>}/>\r\n                                <Route path='/login'\r\n                                       render={ withSuspense(Login)}/>\r\n                    </Content>\r\n                    <Footer style={{ textAlign: 'center' }}>SamuraiJs-social-network 2021. Developer: Sheraliyev D.</Footer>\r\n                </Layout>\r\n            </Layout>\r\n            </HashRouter>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized :state.app.initialized\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp})\r\n)(App);\r\n","import reportWebVitals from './reportWebVitals';\r\nimport store from \"./redux/redux-store\";\r\nimport React from \"react\"\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css'\r\nimport App from './App';\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\n\r\n    ReactDOM.render(\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n            <App />\r\n            </Provider>\r\n        </HashRouter>, document.getElementById('root')\r\n    )\r\n\r\n\r\n\r\n// store.subscribe(()=>{\r\n//     let state=store.getState()\r\n//     rerenderEntireTree(state);\r\n// });\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2XXLD\",\"pagination\":\"users_pagination__1QC83\",\"userBlock\":\"users_userBlock__yG2oK\",\"preLoaderUsers\":\"users_preLoaderUsers__1iVsm\",\"userContainer\":\"users_userContainer__11AYa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"nav_nav__2PNSA\",\"item\":\"nav_item__2LYXR\",\"activeLink\":\"nav_activeLink__etUcf\",\"myFriendsTitle\":\"nav_myFriendsTitle__13q4x\",\"myFriendsWrapper\":\"nav_myFriendsWrapper__2MHsP\",\"friendWrapper\":\"nav_friendWrapper__2frBk\",\"friendImg\":\"nav_friendImg__3pRRW\",\"friendTitle\":\"nav_friendTitle__3HeJj\"};","import {authAPI ,securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_AUTH_USER_DATA='SET_AUTH_USER_DATA'\r\nconst GET_CAPTCHA_URL_SUCCESS = \"GET_CAPTCHA_URL_SUCCESS\"\r\nlet initialState= {\r\n    userId:null,\r\n    email:null,\r\n    login:null,\r\n    isAuth:false,\r\n    captchaUrl:null //if null, then captcha is not required\r\n}\r\n\r\nconst authReducer = (state=initialState,action) => {\r\n    switch (action.type){\r\n        case SET_AUTH_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData=(userId,email,login,isAuth)=>({type:SET_AUTH_USER_DATA,payload: {userId,email,login,isAuth}})\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ( {type:GET_CAPTCHA_URL_SUCCESS, payload:{captchaUrl} } )\r\n\r\nexport const getAuthUserData = () => async (dispatch) =>{\r\n    let response = await authAPI.me()\r\n        if (response.resultCode === 0){\r\n            let {id,email,login} = response.data;\r\n            dispatch(setAuthUserData(id,email,login,true));\r\n        }\r\n}\r\n\r\nexport const login = (email,password,rememberMe,captcha) => async (dispatch) =>{\r\n    let response = await authAPI.login(email,password,rememberMe,captcha)\r\n        if (response.resultCode === 0){\r\n          dispatch(getAuthUserData())\r\n        }else {\r\n             if(response.resultCode === 10){\r\n                 dispatch(getCaptchaUrl())\r\n             }\r\n           let message = response.messages.length > 0 ? response.messages[0] : \"Some error\"\r\n          dispatch(stopSubmit(\"login\" ,{_error:message}))\r\n        }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) =>{\r\n    let response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url;\r\n          dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = () => async (dispatch) =>{\r\n    let response = await authAPI.logout()\r\n        if (response.resultCode === 0){\r\n            dispatch(setAuthUserData(null,null,null,false));\r\n        }\r\n}\r\n\r\nexport default authReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__wOjk1\",\"loginBlock\":\"header_loginBlock__2oikU\",\"userIcon\":\"header_userIcon__1xBzN\",\"loginName\":\"header_loginName__11_Rt\"};"],"sourceRoot":""}